{"hash":"34186d710f080d5ca243960d8cd0caa21e3f7212","data":{"post":{"id":"1fb6189ddec72a736b416e5aa70caa10","title":"DNSSECの設定をしました","content":"<p>クライアント側もドメイン側も、設定するだけで DNSSEC が使える状態になっていたので、両方とも設定して\nDNSSEC を有効にしてみました。</p>\n<h2 id=\"クライアント設定\"><a href=\"#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E8%A8%AD%E5%AE%9A\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>クライアント設定</h2>\n<p>DNS リゾルバは <code>systemd-resolved</code> を使っているので、 DNSSEC 対応の DNS サーバーが使われていれば DNSSEC が有効になります。\n<code>1.1.1.1</code> や <code>8.8.8.8</code> は DNSSEC に対応しています。\nしかし、ルーターなどが提供するリゾルバは対応していないことが多いので、それをデフォルトで使っていて無効になっていました。\n<code>1.1.1.1</code> を直接使うように設定するには、 <code>/etc/systemd/resolved.conf</code> に以下の行を追加します。</p>\n<p><code>DNS=1.1.1.1</code></p>\n<p>あとは <code>sudo systemctl restart systemd-resolve</code> を実行して、 <code>systemd-resolved</code> サービスを再起動すれば有効になります。</p>\n<p>有効になっていれば、 <code>resolvectl query sigfail.verteiltesysteme.net</code> を実行すると <code>invalid</code> とエラーが出るはずです。</p>\n<h2 id=\"ドメインの設定\"><a href=\"#%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AE%E8%A8%AD%E5%AE%9A\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ドメインの設定</h2>\n<p><a href=\"https://hnw.hatenablog.com/entry/20160321\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">DNSSEC対応の独自ドメインを年額$0.88で運用できるよという話</a>\nを見ると、海外のレジストラは DNSSEC に対応しているところが多いようです。\n私の使っている <code>nyaw.dev</code> は Gandi で取得したため、ボタン1つで有効化することができました。</p>\n<p><a href=\"https://dnsviz.net/d/nyaw.dev/dnssec/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">nyaw.dev - dnsviz</a>\nを確認すると、正常に設定されていることが確認できます。</p>\n<p>といっても、リダイレクトさせているのであんまり嬉しくはないんですが……。</p>\n<p>ブログだけではなくポートフォリオも含めてページを充実させていって、ドメイン設定もきちんとしていこうと思っています。</p>\n","date":"27 February 2020","timeToRead":1}},"context":{}}