{"hash":"4e02ba75a9dbd1dc7a4708c15313b3be547adc3b","data":{"post":{"id":"c5abebb0a7aa74256f1333c6dbf2f365","title":"AWS CLIでAssumeRole","content":"<p>AWS のアカウントを CLI から操作することが多いので credentials を保存しているのですが、\n権限を多く持ったユーザーの認証情報を持っておくのは少し不安になったので、 AssumeRole を使って普段はあまり権限を\n持たないユーザーの認証情報を持っておくことにしました。</p>\n<h2 id=\"方法\"><a href=\"#%E6%96%B9%E6%B3%95\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>方法</h2>\n<p>方法は\n<a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/iam-assume-role-cli/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">How do I assume an IAM role using the AWS CLI?</a>\nに書いてある通りです。</p>\n<p>AssumeRole 時に MFA を要求するように設定することもできます。</p>\n<p>また、\n<a href=\"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-role.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Using an IAM Role in the AWS CLI</a>\nに記載のあるように、 AWS CLI では <code>--profile</code> オプションで指定することにより、自動で簡単に AssumeRole を\n使用することができます。</p>\n<p>MFA を併用することで、 TOTP をパスワードとした sudo のような操作も可能になります。\nまた、検証環境と本番環境のロールを分けるといったことも考えられます。\n誤操作を防ぎ、安全性を高められると思うので、このような機能は積極的に使っていこうと思いました。</p>\n","date":"24 February 2020","timeToRead":1}},"context":{}}