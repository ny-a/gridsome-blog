{"hash":"cf84acdc59fb27f481579dbdc6297683d3e3189a","data":{"post":{"id":"71e71fa8b362ffee526339fd26ce0950","title":"Blogの内容を別レポジトリに移動しました","content":"<p>今までは gatsby のブログ用レポジトリにブログの内容を追加していましたが、\nテンプレートと内容は分けた方がいいかなと思い、内容だけ別レポジトリに分けてみました。</p>\n<p>具体的には、 gatsby-source-filesystem を使っていたのを gatsby-source-git に変更しました。\n基本的に gatsby-source-filesystem と同様に使えると書いてありましたが、\nslug の生成に createFilePath を使っていたのが gatsby-source-filesystem に依存していたので、\nnode.parent.file.relativeDirectory から生成するように変更しました。</p>\n<p>また、 gatsby-source-git の指定だけだと、タイミングの問題なのか gatsby-transformer-remark あたりで\n問題が発生していたので、 gatsby-source-filesystem でダミーのソースを指定することでとりあえず対処しました。</p>\n<p>レポジトリを分離したので CI を使ってビルドするようにしようかなと思ったのですが、そうすると\n別に gatsby-source-git を使わなくても、 CI 側で事前に checkout しておけばいいのでは……と思ってきました。\nまた戻すかもしれません。</p>\n","date":"29 January 2020","timeToRead":1}},"context":{}}