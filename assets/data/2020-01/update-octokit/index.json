{"hash":"fe9ff67e836c264213a583d39e486b2b00e660a8","data":{"post":{"id":"f577e78c5953a6d13f6839755024ce17","title":"octokitをアップデートしました","content":"<p><a href=\"/2020-01/introduction-of-jekyll/\">Jekyllを使い始めました</a> でセットアップ時に\nエラーが出ていたので調査しました。</p>\n<h2 id=\"原因\"><a href=\"#%E5%8E%9F%E5%9B%A0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>原因</h2>\n<p><code>faraday</code> gem の 1.0 がリリースされたことが原因ですが、リリースされたのが丁度01/01でした。\n情報が少なかったわけです。</p>\n<p>依存ツリーとしては</p>\n<ul>\n<li>github-pages</li>\n<li>github-pages-health-check, jekyll-gist, jekyll-github-metadata</li>\n<li>octokit</li>\n<li>(sawyer)</li>\n<li>faraday</li>\n</ul>\n<p>となっているようです。\nまた、 <code>~> 0</code> のような、1系が入らないバージョン指定もないようです。</p>\n<h2 id=\"各gemのissueの確認\"><a href=\"#%E5%90%84gem%E3%81%AEissue%E3%81%AE%E7%A2%BA%E8%AA%8D\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>各gemのissueの確認</h2>\n<ul>\n<li><a href=\"https://github.com/github/pages-gem/issues/665\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">issue github/pages-gem#665</a></li>\n<li><a href=\"https://github.com/octokit/octokit.rb/pull/1154\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PR octokit/octokit.rb#1154</a></li>\n</ul>\n<p>どうやら原因は octokit にあるようです。\n修正の PR 自体は master ブランチにマージされていて、リリースを待つだけのようです。</p>\n<p><a href=\"https://github.com/octokit/octokit.rb/issues/1177\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">issue octokit/octokit.rb#1177</a> によると、来週にはリリースする予定ということです。</p>\n<h2 id=\"workaround\"><a href=\"#workaround\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>workaround</h2>\n<p>01/01 に書いたように faraday の 0.17 を指定することでもエラーは出なくなりますが、\noctokit を github から取得するようにしても対応できます。</p>\n<p>具体的には、</p>\n<pre class=\"language-text\"><code class=\"language-text\">gem &quot;octokit&quot;, github: &quot;octokit/octokit.rb&quot;, ref: &quot;ae5838a&quot;</code></pre>\n<p>を Gemfile に追加することで、 faraday の 1系を使えるようになります。</p>\n<p>(<code>ae5838a</code> 以降であればいいので、 <code>branch: \"master\"</code> などでも問題ないです。)</p>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>まとめ</h2>\n<p>octokit のメンテナさん、リリース頑張ってください！いつもありがとうございます。</p>\n","date":"03 January 2020","timeToRead":1}},"context":{}}