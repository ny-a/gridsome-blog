{"hash":"8d5359b9db4aeda81cb7e481c042437697695e58","data":{"post":{"id":"b32cceb367cbff80eb5c603510b5e8a6","title":"Dockerの最新版をCentOSにインストールしてみました","content":"<p>CentOS のパッケージは、普段使っている ArchLinux に比べるとかなり古いです。\nしかし、 epel などのレポジトリを使うことで、比較的新しいバージョンを使うことができます。</p>\n<p>docker は <a href=\"https://docs.docker.com/install/linux/docker-ce/centos/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CentOS 用のインストールマニュアル</a>\nがあるので、これに従えばよいです。</p>\n<p>まず、既に docker がインストールされている場合は <code>yum remove</code> コマンドで削除します。\nそして、 <code>yum-utils</code> <code>device-mapper-persistent-data</code> <code>lvm2</code> パッケージをインストールします。\n(手元の環境では全て最新版がインストールされていました。)\n次に、 Docker CE のレポジトリを追加します。\n<code>yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</code></p>\n<p>あとは <code>yum install docker-ce docker-ce-cli containerd.io</code> を実行すれば最新版がインストールされます。</p>\n<p>また、 <code>docker-compose</code> はこの状態で yum でインストールしようとすると古いバージョンが入るので、\n<code>pip</code> を使ってインストールしてあげると最新版がインストールされます。\nただ、インストールが <code>/usr/local/bin/</code> 以下になることがあり、 <code>sudo</code> 時の PATH に含まれていないことがあるので\n注意が必要です。(とりあえずはフルパスで指定すると動きます。)</p>\n<p>ArchLinux を使っていると pip も 3 が標準な気がしてしまいますが、他の disto では 3 の suffix がついているんですね。\nそろそろ 2 系も EOL なので、 suffix なしの 3 系が標準になってほしいものです。</p>\n","date":"06 March 2020","timeToRead":1}},"context":{}}