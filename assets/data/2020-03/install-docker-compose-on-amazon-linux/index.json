{"hash":"60286fa4ae627e845d29b8473e96a46aea09df47","data":{"post":{"id":"8523a597c9b735d460d2f66f0654dde6","title":"AmazonLinux2-minimal に docker-compose をインストールしてみました","content":"<p>AmazonLinux では、 <code>amazon-linux-extras</code> を使って docker は簡単にインストールすることができますが、\n<code>docker-compose</code> のインストールは少しハマる場合がありました。</p>\n<p><code>amazon-linux-extras</code> から epel リポジトリを有効化すると、 yum で docker-compose が利用可能になりますが、\nこれはアーキテクチャに関わらず現在インストールすることができません(python3.6 系に依存しているため)。</p>\n<h2 id=\"x86_64\"><a href=\"#x86_64\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>x86_64</h2>\n<p><code>pip3 install docker-compose</code> で素直に入ります。特にハマることはないと思います。</p>\n<h2 id=\"aarch64\"><a href=\"#aarch64\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>aarch64</h2>\n<p>x86_64 と同じように <code>pip3</code> でインストールはできますが、依存ライブラリのビルドに必要な依存関係を解決しておく必要があります。\n以下のコマンドでインストール可能です。</p>\n<pre class=\"language-shell\"><code class=\"language-shell\">yum <span class=\"token function\">install</span> gcc libffi-devel openssl-devel python3-devel\npip3 <span class=\"token function\">install</span> docker-compose </code></pre>\n<p>ビルドが走るので少し時間がかかります。頻繁に使うのであれば AMI を作成しておく方が便利だと思います。</p>\n<p>今回は minimal で試しましたが、normal の方では試していないため、また必要になったら試してみようと思います。</p>\n<p>といっても、docker-compose を直接インスタンスで使うよりも、最近では ECS や Kubernetes を使うことの方が多そうですね……。</p>\n","date":"23 March 2020","timeToRead":1}},"context":{}}